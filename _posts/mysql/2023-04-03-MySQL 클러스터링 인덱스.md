---
layout: post  
title: 클러스터링 인덱스  
author: jae-hee Han  
date: 2023-04-03 21:00:00 +09:00  
categories: [MYSQL]  
tags: [mysql, 클러스터링 인덱스]  
math: true  
mermaid: true  
image: /assets/img/mysql.png  
path:   
lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA  
alt:
---

## 클러스터링 인덱스 
- InnoDB 스토리지 엔진만 지원
- 프라이머리 키에 적용되는 내용
- 프라이머리 키 값에 의해 레코드 저장 위치가 결정 
<br/>

프라이머리 키 기반의 검색이 매우 빠르지만 레코드의 저장이나 프라이머리 키의 변경이 상대적으로 느리다
  
B-Tree 와 비슷하지만 리프노드에 레코드의 모든 컬럼이 같이 저장돼 있음
<br/>

### InnoDB 스토리지 엔진 우선순위 프라이머리 키

1. 프라이머리 키가 있으면 기본적으로 프라이머리 키를 클러스트링 키로 선택
2. NOT NULL 옵션의 유니크 인덱스(Unique index) 중에서 첫번째 인덱스를 클러스트링 키로 선택
3. 자동으로 유니크한 값을 가지도록 증가되는 컬럼을 내부적으로 추가한 후, 클러스트링 키로 선택

적절한 키를 찾지 못하는 경우 내부적으로 레코드의 일련번호 컬럼을 생성, 노출되지 않으며 명시적으로 사용할 수 없다. 
InnoDB 테이블에서 클러스트링 인덱스는 테이블당 **단 하나만 가질 수 있는 엄청난 혜택**이므로 가능하다면 프라이머리 키를 명시적으로 생성하자. 







